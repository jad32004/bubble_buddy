class(order_item) <- "OrderItem"
return(order_item)
}
print.OrderItem <- function(x, ...){
cat(sprintf("%-15s x%-3d Php %7.2f\n",
x$menu_item$food,
x$quantity,
x$subtotal))
}
#====================================================
# CLASS 3: COMPLETE ORDER ITEM PRESENTATION
#====================================================
create_order <- function(customer_name = "Guest"){
order <- list(
customer_name = customer_name,
items = list(),
item_count = 0,
created_at = Sys.time()
)
class(order) <- "Order"
return(order)
}
add_item <- function(order, menu_item, quantity) {
UseMethod('add_item')
}
add_item.Order <- function (order, menu_item, quantity){
order_item <- create_menu_item(menu_item, quantity)
order$items[[length(order$items) + 1]] <- order_item
order$item_count <- order$item_count + !
cat('Added: ', quantity, 'x', menu_item$food, '\n')
return(order)
}
#====================================================
# CALCULATION PART (ADDING FORMULA)
#====================================================
calculate_subtotal <- function (order){
UseMethod('calculate_subtotal')
}
calculate_subtotal.order <- function(order){
total <- 0
for (item in order$items){
total <- total +item$subtotal
}
return(total)
}
#====================================================
# DISCOUNTS
#====================================================
calculate_discount <- function(order){
UseMethod('calculate_discount')
}
calculate_discount.Order <- function(order){
subtotoal <- calculate_subtotal(order)
if(subtotal >= 1000){
discount_rate <- 0.15
reason <- '15% off (order >= Php 1000)'
}else if(subtotal >= 500){
discount_rate <- 0.10
reason <- '10% off (order >= Php 500)'
}else if(subtotal >= 200){
discount_rate <- 0.05
reason <- '5% off (order >= Php 200)'
}else{
discount_rate <- 0
reason <- 'No discount'
}
discount_amount <- subtotal * discount_rate
return(list(
amount = discount_amount,
rate = discount_rate,
reason = reason
))
}
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
#reviewer
for (i in 1:10) {
paste("This is", i)
}
t1 <- "hello i am "
name <- "jade"
paste(t1, name)
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
item <- list(
name = name,
price = price,
category = category
)
class(item) <- "GroceryItem"
return(item)
source("~/.active-rstudio-document")
#====================================================
# CLASS 1: GROCERY ITEM
#====================================================
create_grocery_item <- function(name, price, category) {
item <- list(
name = name,
price = price,
category = category
)
class(item) <- "GroceryItem"
return(item)
}
print.GroceryItem <- function(x, ...) {
cat(x$name, ": P", x$price, "\n", sep = "")
}
#====================================================
# CLASS 2: ORDER ITEM
#====================================================
create_order_item <- function(item, quantity) {
order_item <- list(
item = item,
quantity = quantity,
subtotal = item$price * quantity
)
class(order_item) <- "OrderItem"
return(order_item)
}
print.OrderItem <- function(x, ...) {
cat(x$item$name, "x", x$quantity, "= P", x$subtotal, "\n", sep = " ")
}
#====================================================
# CLASS 3: ORDER (WITH DISCOUNT)
#====================================================
create_order <- function(customer_name) {
order <- list(
customer_name = customer_name,
items = list(),
total = 0,
discount = 0,
final_total = 0
)
class(order) <- "Order"
return(order)
}
add_item_to_order <- function(order, order_item) {
order$items <- append(order$items, list(order_item))
return(order)
}
# Discount formula with multiple if-else
calculate_order_total <- function(order) {
total <- 0
for (item in order$items) {
total <- total + item$subtotal
}
if (total >= 1000) {
discount_rate <- 0.15
} else if (total >= 700) {
discount_rate <- 0.10
} else if (total >= 300) {
discount_rate <- 0.05
} else {
discount_rate <- 0
}
discount <- total * discount_rate
final_total <- total - discount
order$total <- total
order$discount <- discount
order$final_total <- final_total
return(order)
}
print.Order <- function(x, ...) {
cat("\n===== GROCERY RECEIPT =====\n")
cat("Customer:", x$customer_name, "\n\n")
for (item in x$items) {
print(item)
}
cat("\nSubtotal: P", x$total,
"\nDiscount: P", x$discount,
"\nFinal Total: P", x$final_total, "\n")
cat("============================\n")
}
#
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/Barroso_Act9_Prog1.R")
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/Barroso_Act9_Prog3.R")
source("~/Barroso_Act9_Prog3.R")
source("~/Barroso_Act9_Prog3.R")
source("~/Barroso_Act9_Prog2.R")
source("~/Barroso_Act9_Prog2.R")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/Barroso_Act9_Prog1.R")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/finals_almost functional.R")
source("~/finals_almost functional.R")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/finals_almost functional.R")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
MAX_MACHINES <- 10
source("C:/Users/jade/Desktop/laundry/app.R")
# -------------------------------
# DB connection and helpers
# -------------------------------
conn <- dbConnect(RSQLite::SQLite(), DB_PATH)
ensure_schema <- function() {
# Create tables if not exist
dbExecute(conn, "
CREATE TABLE IF NOT EXISTS machines (
machine_id INTEGER PRIMARY KEY,
is_occupied INTEGER DEFAULT 0,
order_id INTEGER,
updated_at TEXT
);
")
dbExecute(conn, "
CREATE TABLE IF NOT EXISTS orders (
id INTEGER PRIMARY KEY AUTOINCREMENT,
customer_name TEXT NOT NULL,
loads INTEGER NOT NULL CHECK (loads >= 1),
status TEXT NOT NULL,
machine_id INTEGER,
created_at TEXT NOT NULL,
status_started_at TEXT,
due_at TEXT,
notes TEXT
);
")
# Seed 10 machines if none
n <- dbGetQuery(conn, "SELECT COUNT(*) AS n FROM machines")$n
if (n == 0) {
sql <- "INSERT INTO machines(machine_id, is_occupied, order_id, updated_at) VALUES (?, 0, NULL, datetime('now'));"
for (i in 1:MAX_MACHINES) {
dbExecute(conn, sql, params = list(i))
}
}
}
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
warnings()
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
warnings()
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
source("C:/Users/jade/Desktop/laundry/app.R")
shiny::runApp('C:/Users/jade/Desktop/laundry')
# Connect to SQLite database
conn <- dbConnect(RSQLite::SQLite(), "laundry.db")
# Ensure orders table exists
dbExecute(conn, "CREATE TABLE IF NOT EXISTS orders(
id INTEGER PRIMARY KEY,
customer_name TEXT,
loads INTEGER,
remaining_loads INTEGER,
special_instructions TEXT,
pickup_date TEXT,
status TEXT,
machine_id INTEGER,
status_started_at TEXT,
due_at TEXT,
created_at TEXT)")
# Always clear orders at startup
dbExecute(conn, "DELETE FROM orders;")
dbExecute(conn, "DELETE FROM sqlite_sequence WHERE name='orders';")
runApp('C:/Users/jade/Desktop/laundry')
dbExecute(conn, "DELETE FROM orders;")
dbExecute(conn, "DELETE FROM sqlite_sequence WHERE name='orders';")
runApp('C:/Users/jade/Desktop/laundry')
# Connect to SQLite database
conn <- dbConnect(RSQLite::SQLite(), "laundry.db")
# Ensure orders table exists
dbExecute(conn, "CREATE TABLE IF NOT EXISTS orders(
id INTEGER PRIMARY KEY,
customer_name TEXT,
loads INTEGER,
remaining_loads INTEGER,
special_instructions TEXT,
pickup_date TEXT,
status TEXT,
machine_id INTEGER,
status_started_at TEXT,
due_at TEXT,
created_at TEXT)")
# Always clear orders at startup
dbExecute(conn, "DELETE FROM orders;")
dbExecute(conn, "DELETE FROM sqlite_sequence WHERE name='orders';")
runApp('C:/Users/jade/Desktop/laundry')
shiny::runApp('C:/Users/jade/Desktop/laundry')
runApp('C:/Users/jade/Desktop/laundry')
source("~/.active-rstudio-document")
runApp('C:/Users/jade/Desktop/laundry')
source("~/.active-rstudio-document")
library(shiny); runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
dbListTables(conn)
dbExecute(conn, "
CREATE TABLE IF NOT EXISTS machines (
machine_id INTEGER PRIMARY KEY,
is_occupied INTEGER DEFAULT 0
);
")
dbExecute(conn, "
INSERT INTO machines (machine_id, is_occupied)
SELECT x, 0
FROM (SELECT 1 x UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5
UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9 UNION SELECT 10)
WHERE x NOT IN (SELECT machine_id FROM machines);
")
dbGetQuery(conn, "SELECT * FROM machines")
library(DBI)
library(RSQLite)
conn <- dbConnect(
SQLite(),
"C:/Users/jade/Desktop/laundry2/laundry_database.sqlite"
)
dbListTables(conn)
dbExecute(conn, "
CREATE TABLE IF NOT EXISTS machines (
machine_id INTEGER PRIMARY KEY,
is_occupied INTEGER DEFAULT 0
);
")
dbExecute(conn, "
INSERT INTO machines (machine_id, is_occupied)
SELECT x, 0
FROM (SELECT 1 x UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5
UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9 UNION SELECT 10)
WHERE x NOT IN (SELECT machine_id FROM machines);
")
dbGetQuery(conn, "SELECT * FROM machines")
shiny::runApp("C:/Users/jade/Desktop/laundry2")
runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
library(DBI)
library(RSQLite)
conn <- dbConnect(SQLite(), "C:/Users/jade/Desktop/laundry2/laundry_database.sqlite")
-- Delete data
library(DBI)
library(RSQLite)
conn <- dbConnect(SQLite(), "C:/Users/jade/Desktop/laundry2/laundry_database.sqlite")
dbExecute(conn, "DELETE FROM loads;")
dbExecute(conn, "DELETE FROM orders;")
dbExecute(conn, "DELETE FROM sqlite_sequence WHERE name='orders';")
dbExecute(conn, "DELETE FROM sqlite_sequence WHERE name='loads';")
dbDisconnect(conn)
library(shiny); runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
# Delete all existing orders and loads
dbExecute(conn, "DELETE FROM loads;")
dbExecute(conn, "UPDATE machines SET is_occupied = 0;")
runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
library(shiny); runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
if (file.exists("laundry_management.db")) {
file.remove("laundry_management.db")
}
if (file.exists("laundry_management.db")) {
file.remove("laundry_management.db")
}
if (file.exists("laundry_management.db")) {
file.remove("laundry_management.db")
}
if (file.exists("laundry_management.db")) {
file.remove("laundry_management.db")
}
if (file.exists("laundry_management.db")) {
file.remove("laundry_management.db")
}
library(shiny); runApp('C:/Users/jade/Desktop/laundry2/laundry_app.R')
source("C:/Users/jade/Desktop/laundry/Laundry_no_shiny.R")
library(shiny); runApp('C:/Users/jade/Desktop/laundry_clauide/l_app.R')
runApp('C:/Users/jade/Desktop/laundry_clauide/l_app.R')
library(shiny); runApp('C:/Users/jade/Desktop/laundry_clauide/l_app.R')
runApp('C:/Users/jade/Desktop/laundry_clauide/l_app.R')
runApp('l_app.R')
library(shiny); runApp('l_app.R')
rm(list=ls())
rm(list=ls())
library(shiny); runApp('l_app.R')
runApp('l_app.R')
runApp('l_app.R')
runApp('l_app.R')
runApp('l_app.R')
source("C:/Users/jade/Desktop/laundry_clauide/l_app.R")
source("C:/Users/jade/Desktop/laundry_clauide/l_app.R")
source("C:/Users/jade/Desktop/laundry_clauide/l_app.R")
runApp('l_app.R')
library(shiny); runApp('l_app.R')
shiny::runApp()
runApp()
Q
install.packages("here")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
